#include <stdio.h>
#include <string.h>

int main(int argc, char *argv[])
{
    int v = 5;
    char buff_one[8], buff_two[8];

    strcpy(buff_one, "one");
    strcpy(buff_two, "two");

    printf("[BEFORE] buffer_two is at %p and contains '%s'\n", buff_two, buff_two);
    printf("[BEFORE] buffer_one is at %p and contains '%s'\n", buff_one, buff_one);
    printf("[BEFORE] value is at %p and equals %d (0x%08x)\n\n", &v, v, v);

    printf("[STRCPY] Copying %d bytes into buffer_two\n\n", strlen(argv[1]));
    strcpy(buff_two, argv[1]);

    printf("[AFTER] buffer_two is at %p and contains '%s'\n", buff_two, buff_two);
    printf("[AFTER] buffer_one is at %p and contains '%s'\n", buff_one, buff_one);
    printf("[AFTER] value is at %p and equals %d (0x%08x)\n", &v, v, v);

    return 0;
}

/*
OUTPUT
------

[BEFORE] buffer_two is at 0x7ffc895c28cc and contains 'two'
[BEFORE] buffer_one is at 0x7ffc895c28d4 and contains 'one'
[BEFORE] value is at 0x7ffc895c28dc and equals 5 (0x00000005)

[STRCPY] Copying 10 bytes into buffer_two

[AFTER] buffer_two is at 0x7ffc895c28cc and contains '1234567890'
[AFTER] buffer_one is at 0x7ffc895c28d4 and contains '90'
[AFTER] value is at 0x7ffc895c28dc and equals 5 (0x00000005)
*/
