#include <stdio.h>

int global_var; // stored in the bss segment because uninitialized
int global_initialized_var = 5; // stored in the data segment because initialized

// will have it's own function prologue within the stack
void func()
{
    int stack_var;
    printf("The function's stack_var is at address 0x%08x\n", &stack_var);
}

int main()
{
    int stack_var;
    static int static_initialized_var = 5;
    static int static_var;
    int *heap_var_ptr;
    
    heap_var_ptr = (int*) malloc(sizeof(int)); 

    printf("global_initialized_var is at address 0x%08x\n", &global_initialized_var);
    printf("static_initialized_var is at address 0x%08x\n\n", &static_initialized_var);

    printf("static_var is at address 0x%08x\n", &static_var);
    printf("global_var is at address 0x%08x\n\n", &global_var);

    // notice the difference in memory location for both the heap
    // variable address and the variable located in the stack
    printf("heap_var is at address 0x%08x\n", &heap_var_ptr);

    // the memory address printed for the stack_var variable in main
    // is higher in memory because when the func() call is made,
    // the stack grows towards the heap, and therefore any variables
    // defined within the context of the func() function will be higher in
    // memory than the variables defined in the main funciton
    printf("stack_var is at address 0x%08x\n\n", &stack_var);

    func();
    return 0;
}
